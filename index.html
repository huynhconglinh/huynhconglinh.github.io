<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HCLINH</title>
</head>
<body onload="init()">
    <div class="iframe" style="display: none;">
        <iframe id="videoContainer" width="560" height="315" frameborder="0" allowfullscreen></iframe>
    </div>

    <script type="text/javascript">
        function getYoutubeId(url) {
            const regExp = /^(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
            const match = url.match(regExp);
            return match ? match[1] : null;
        }

        function init() {
            const params = new URLSearchParams(window.location.search.substr(1));
            if (params.has('v')) {
                const videoId = getYoutubeId(params.get('v'));
                if (videoId) {
                    purify(videoId);
                } else {
                    console.error('Invalid YouTube URL');
                }
            } else {
                console.error('No video ID found in URL');
            }
        }

        function purify(videoId, width = 560, height = 315, autoplay = false, controls = true) {
            const autoplayParam = autoplay ? '1' : '0';
            const controlsParam = controls ? '1' : '0';
            const iframe = document.getElementById('videoContainer');
            iframe.style.display = '';
            iframe.setAttribute('width', width);
            iframe.setAttribute('height', height);
            iframe.setAttribute('src', `https://www.youtube-nocookie.com/embed/${videoId}?autoplay=${autoplayParam}&controls=${controlsParam}`);
        }
    </script>
</body>
</html>
